<?php/** * Created by 赵晓凡 * User: zhaoxiaofan * Date: 2017/2/17 * Time: 14:30 */namespace mobile\index\controller;\think\Loader::import('controller/Jump', TRAIT_PATH, EXT);use think\View;use think\Config;use think\Request;use think\Session;/** * Class Auth 公共认证基类 * @package home\index\controller */class Auth{	use \traits\controller\Jump;//使用trait复用Jump中的方法    // 视图类实例    protected $view;    // Request实例    protected $request;    /**     * Auth constructor.     * 获取并赋值视图和请求类的实例     */    public function __construct()    {        if (null === $this->view) {            $this->view = View::instance(Config::get('template'), Config::get('view_replace_str'));        }        if (null === $this->request) {            $this->request = Request::instance();        }        $this->authLogin();    }    /**     * 登录验证，如果未登录则跳转到登录页     */    public function authLogin(){    	if(!Session::get('membername')){    		$this->redirect('/mobile.php/login');    	}    }}