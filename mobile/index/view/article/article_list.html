<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta http-equiv="X-UA-Compatible" content="ie=edge">    <title>帮助中心</title>    <link rel="stylesheet" href="/public/qdd/css/bzzx.css">    <script src="<?php echo CSS_PATH;?>mobile/js/jquery-1.9.1.min.js"></script>    <script src="<?php echo CSS_PATH;?>mobile/js/angular.min.js"></script></head><body  ng-app="scroll" ng-controller="Main" ng-cloak><header>    <a href="javascript:history.back(-1);" id="bzzxfh">        <img src="/public/qdd/img/juxing.png" alt="">    </a>    <p>帮助中心</p></header><div class="bzList" id="fixed" when-scrolled="loadMore()">    <ul>        <li ng-repeat="vo in items">            <a href="/mobile.php/article/show?id={{vo.id}}">                <img src="/public/qdd/img/dd4.png" alt="">                <span>{{vo.articletitle}}</span>                <img src="/public/qdd/img/you.png" alt="" style="float: right;margin-top:5px;">            </a>        </li>    </ul></div></body></html><script type="text/javascript">    // 定义模块    var scroll = angular.module('scroll', []);    // 定义滚动指令    scroll.directive('whenScrolled', function() {        return function(scope, elm, attr) {            // body窗口的滚动加载--需要Jquery            $(window).scroll(function () {                //滚动条距离顶部的距离                var scrollTop = $(window).scrollTop();                //滚动条的高度                var scrollHeight = $(document).height();                //窗口的高度                var windowHeight = $(window).height();                if (scrollTop + windowHeight >= scrollHeight) {                    scope.$apply(attr.whenScrolled);                }            });        };    });    scroll.controller('Main', ['$scope','$http',        function ($scope, $http) {            // 当前页数            $scope.currentPage = 0;            // 总页数            $scope.totalPages = 1;            // 防止重复加载            $scope.busy = false;            // 存放数据            $scope.items = [];            // 请求数据方法            $scope.loadMore = function() {                if ($scope.currentPage < $scope.totalPages) {                    $scope.currentPage++;                    if ($scope.busy) {                        return false;                    }//                    $scope.busy = true;                    // 请求后台服务器                    $http.get("/api.php/index/article_list?p="+$scope.currentPage)                        .success(function(response) {                            $scope.busy = false;                            //组织数据                            for (var i in response.data.data_list) {                                $scope.items.push(response.data.data_list[i]);                            }                            $scope.totalPages = response.data.total;                        });                }            };            // 默认第一次加载数据            $scope.loadMore();        }]);</script>